
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>RumbleSan Heavy Noise Industries</title>
  <meta name="author" content="guy">

  
  <meta name="description" content="So for a while I’ve had an idea about writing a sequencer based on Befunge. The main mechanics being a moving pointer that affects and is effected by &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rumblesan.com/blog/page/12/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="RumbleSan Heavy Noise Industries" type="application/atom+xml">
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-19842221-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">RumbleSan Heavy Noise Industries</a></h1>
  
    <h2>Noise with weight</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rumblesan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="http://patchwerk.rumblesan.com">PatchWerk</a></li>
  <li><a href="http://rumblesan.tumblr.com">Glitchr</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/28/fungeoid-sequencer/">Fungeoid Sequencer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-28T16:56:36+01:00" pubdate data-updated="true">Sep 28<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/09/28/fungeoid-sequencer/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So for a while I’ve had an idea about writing a sequencer based on <a href="http://en.wikipedia.org/wiki/Befunge">Befunge</a>. The main mechanics being a moving pointer that affects and is effected by the tiles you place on a two dimensional grid.</p>

<p>I’m going to have a go at knocking up a proof of concept in the next couple days, I suspect that processing will be the language of choice for the task and that initially it will only support MIDI and OSC. I do have more plans for it but a working system will be fine for the moment.</p>

<p>More to come on this soon…</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/21/a-basic-intro-to-markov-chains/">A Basic Intro to Markov Chains</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-21T15:59:49+01:00" pubdate data-updated="true">Sep 21<span>st</span>, 2010</time>
        
         | <a href="/blog/2010/09/21/a-basic-intro-to-markov-chains/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I said I’d get a post on this sorted and here it is. Nothing too taxing, just a basic intro to creating Markov Chains in pure data. I’ll post something another day about some interesting ways they can be used but the intrepid programmer and composer can probably work some of that out themselves.</p>

<p>So, I feel that a good place to start this is by explaining what a Finite State Machine is, since a Markov Chain is basically a variation on this. I’ll pull a picture from the <a href="http://view.eecs.berkeley.edu/wiki/Main_Page">wiki </a>of the <a href="http://www.eecs.berkeley.edu/">Electrical Engineering and Computer Sciences</a> College at UC Berkley.</p>

<p><img src="http://view.eecs.berkeley.edu/wiki/Finite_State_Machines" alt="Finite State Machine" /></p>

<p>This may well look similar to the diagram of a Graph that I showed in the post on Nodes and Graphs previously. What we have here is a number of states that a system can occupy. The system can move between these states but can only move from one specific state to a number of other specific states. The diagram here has all these state transitions as single direction changes but there’s no reason why that has to be the case. The important thing to understand here is that the system can move between these states but only to certain states.</p>

<p>It might be a little obvious but at this point I want to point out that a state can be anything as far as we’re concerned. Musically we can have each state represent a note, or a drum sound, and when the system moves into that state the corresponding sound is played. There’s plenty of scope for taking it farther than that when you think about it however.</p>

<p>So, we have various different states and our system can transition between them. What a Markov Chain does with this is that we assign the transition from each state to another with a weight, and then the system randomly decides which state to transition to based upon the weighting. As an example, I have drawn a fairly rubbish diagram complete with numbers!!</p>

<p><img src="/a/2010-09-21-a-basic-intro-to-markov-chains/FSM-Chain-Example.png" alt="Markov Chain Example" /></p>

<p>So here we have states A, B and C and the transitions from each state along with the weightings are shown. As an example, the transition from state A to state B has a weighting of 40, state A to state C is 10 and state A back to itself is 50. Values all add up to 100 so it should be pretty easy to work out percentage chances here. It should also be obvious that the chance of moving from state A to state B is not the same as moving in the other direction.</p>

<p>So, hopefully everything so far has been clear, I think it’s time to move on to some programming now. I’ve chosen to do these patches in Pure Data for a couple of reasons, namely, it’s free and I feel the graphical layout lends itself well to explaining concepts like this. For anybody who hasn’t used Pure Data before, plenty of info can be found at <a href="http://puredata.info/">the main website</a>, but for some really clear help and tutorials, I recommend the <a href="http://en.flossmanuals.net/PureData">Floss Manuals Pages</a> which are really worth reading. You should still be able to get a good idea of what’s going on here anyway. The way I’ve designed the following patches is not the most elegant or efficient, but it should server to explain things in the clearest manner. First up, the three state Markov Chain above.</p>

<p><img src="/a/2010-09-21-a-basic-intro-to-markov-chains/1stOrder.png" alt="1stOrder" /></p>

<p>The metro at the top left puts out a bang every 750 milliseconds that makes the random object send out a random number between 0 and 99. The weightings for each state now are held in the three message objects marked as the “State Change Probabilities” and depending on what the current state is, the message for a specific state will get a bang and send its list to the unpack object. For our use here, the three states are <strong>0</strong>, <strong>1</strong> and <strong>2,</strong> just because that makes it easier in Pure Data but I’ll keep talking about A, B and C.</p>

<p>The bundle of maths in the bottom left is a big perplexing at first but fairly simple in what it does. The value for the state A transition is subtracted from the random value, if we have a remainder of zero or less then we transition to state A. If we have a positive remainder then we subtract the state B transition value, a value less than 1 means we transition to state B, otherwise we transition to state C. Once the new state has been chosen, this information gets sent back to the top so that the new probabilities for the state are used when deciding transitions. The patches used in this post can be found in a zip archive <a href="/a/2010-09-21-a-basic-intro-to-markov-chains/Markov-Chains.zip">here</a>, have a play around and see how it all works.</p>

<p>Now some might have noticed that the patch is referred to as a <strong>First Order</strong> Markov Chain and might then be wondering what this means. In short, the order of a Markov Chain is how many previous states it takes into account. A first order chain will have state transition probabilities based only on the current state whereas a Second Order chain will be based on the current state and the previous state. That is to say, the chance of of transferring from state A to state B will be different if we have just transitioned from B to A than from C to A.</p>

<p>The patch below is based on this idea, we now have nine sets of transition probabilities and it should hopefully be clear how these are selected based on the current state and the previous state. The messy maths part has now just been put into its own sub-patch in the bottom left to clean things up. Another quick note, the two states here are referred to as the current state and the n-1 state. This is just a simple way to reference which states we are talking about. If the current state is n, the previous state is n-1, the state before that n-2 and so on.</p>

<p><img src="/a/2010-09-21-a-basic-intro-to-markov-chains/2ndOrder.png" alt="2ndOrder" /></p>

<p><strong>0</strong></p>

<p>That’s really all there is to the basics of Markov Chains. I’ll revisit this stuff soon with some audio examples and a few other bits and bobs. Until then, go have a play with the patches.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/16/algorithmic-experiments/">Algorithmic Experiments</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-16T10:53:19+01:00" pubdate data-updated="true">Sep 16<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/09/16/algorithmic-experiments/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the things I’ve always been interested in is the idea of algorithmic, generative music. I think it’s stemmed from a love of complex, glitchy music but wanting to be able to create it live instead of just replaying loops or sections and this is still something I struggle with now.</p>

<p>I think I’m going to start expanding this blog somewhat based on this. Initially I was just going to be using it as a place to post SuperCollider stuff as I learnt more about the program, but that itself just seems to be a small part of the whole.</p>

<p>So, here is my plan. Each week I will come up with an idea, build an example of it, learn about it, try and explain my thoughts about it and post up the code for anybody to use. Sometimes I might be expanding on a previous idea, sometimes I will try and come up with something new, sometimes I might just wholesale take someone else’s idea and try to modify it in my own way or maybe just learn about it. I am also going to try and have a weekly post on a SuperCollider, PureData or Max/MSP lesson. Looking back at the previous SuperCollider stuff I’m already seeing mistakes so these might only be of use to me but so be it.</p>

<p>As a heads up, I can say that the first example is going to be based on Markov Chains, since I’ve already spent some time playing about with them and I want to investigate them more.</p>

<p>Hopefully I’ll be able to get hat and an SC lesson done by the end of the weekend.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/09/testing-out-the-android-wordpress-app/">Testing Out the Android Wordpress App</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-09T14:02:29+01:00" pubdate data-updated="true">Sep 9<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/09/09/testing-out-the-android-wordpress-app/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/a/2010-09-09-testing-out-the-android-wordpress-app/wpid-wp-1284037202325.jpg" alt="image" /></p>

<p>Seems pretty spiffy so far.</p>

<p>Here’s a picture of my wage slave death station.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/08/nodes-graphs-groups-and-positioning-part-1/">Nodes, Graphs, Groups and Positioning (Part 1)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-08T12:03:49+01:00" pubdate data-updated="true">Sep 8<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/09/08/nodes-graphs-groups-and-positioning-part-1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I’ve been reading up more on this, as I feel it’s one of the last major things to get my head around before fully understanding SuperCollider.  The premise is pretty simple but I found there’s an awful lot of depth to it if you start diving in. For this reason there will be a couple of parts to this, I’m guessing two or three.</p>

<p>The basics is where we’ll start and, thankfully, they aren’t to taxing. There won’t be much code in this post but there should be a fair few diagrams to help visualise everything.</p>

<p>To begin with, I’ll introduce the four big words I used in the title.</p>

<p><strong>Nodes, Graphs, Groups and Positioning.</strong></p>

<p>The three of these are all quite strongly tied together but have slightly differing meanings depending on whether you’re looking at the maths, or at SuperCollider itself. In the mathematical sense, a Graph (not in an x-y diagram sense) is essentially a number of vertices joined by edges. This creates a network that can be used to do various things, the <a href="http://en.wikipedia.org/wiki/Graph_%28mathematics%29">wikipedia article</a> is very good at explaining some of this and infact I’ll lift a picture from it here quickly.</p>

<p><img src="http://en.wikipedia.org/wiki/Graph_%28mathematics%29" alt="Mathematical Graph" /></p>

<p>SuperCollider uses graphs internally when dealing with Synths that it is running to calculate in what order the functionality of the UGens should be happening. It is doubtful the user will have to deal with this themselves.</p>

<p>Nodes and Groups are something that you will deal with often if you use SuperCollider. A Node can be a single Synth or a Group on the server. A Group can be a collection of Synth Nodes and/or more Group Nodes.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">t = Synth('basic-FM',['freq2', 200, 'amp1', 300]);</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The above code for example is us creating a Synth and storing a reference to it in the variable t. The reference we are actually storing is the ID of the Node on the Server so when we run commands that refer to a synth, we’re actually just sending messages to that Node.</p>

<p>To make it easier to control and manage multiple Nodes, they can be collected into a single Group which makes life much easier when having to think about Positioning.</p>

<p>Positioning isn’t really that difficult to get your head around. If we have a synth, and the audio from that goes through an effect, then the sound out of the effect is dependant upon the sound out of that synth. We need to make sure that SuperCollider calculates the synth’s audio so that the effect can modify it. If we were to create the synth first and then the effect then the effect node would come after the synth node by default but it’s not always such a good idea to rely on this, especially not if things get complicated. I’ll be covering how you can tell SuperCollider what order things should be in in a later post, I’m just trying to get through the idea that this is important to think about but not too complex. A picture from the documentation on <a href="http://supercollider.svn.sourceforge.net/viewvc/supercollider/trunk/common/build/Help/ServerArchitecture/Order-of-execution.html">Order of Execution</a> might make things a little clearer.</p>

<p><img src="http://supercollider.svn.sourceforge.net/viewvc/supercollider/trunk/common/build/Help/ServerArchitecture/Order-of-execution.html" alt="Order of execution diagram" /></p>

<p>It is also worth mentioning here that ordering works much the same for Groups as it does for Nodes. We can have a group of nodes that all represent synths and this group is positioned before an effect node so that the output from the synths is calculated and mixed together, before going to the effect.</p>

<p>So, to round everything up, a quick overview in bullet point format.</p>

<ul>
  <li>
    <p>The SuperCollider server keeps track of Synths and Groups as Nodes</p>
  </li>
  <li>
    <p>A Group is a collection of Nodes itself</p>
  </li>
  <li>
    <p>The internals of a Synth Node will be a Graph of UGens created from the SynthDef</p>
  </li>
  <li>
    <p>The Nodes will have an order and this can be set and changed</p>
  </li>
  <li>
    <p>A Node that is dependant upon the audio from another Node must be placed after it</p>
  </li>
</ul>

<p>Part two should have some more code examples, probably something simple involving a synth and an effect and I’ll aim to start getting the code examples up on Github.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/08/github-project-links/">Github Project Links</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-08T11:18:54+01:00" pubdate data-updated="true">Sep 8<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/09/08/github-project-links/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So if you look in the sidebar on the right, you should now see a nice set of links to my Github repositories. Most of it now is now NDS related code but there’s a reasonable amount of python in there.</p>

<p>Eventually there will be some SuperCollider projects to be found but I still have plenty of learning to do before its anything other than the code examples from the site so far.</p>

<p>Feel free to have a browse.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/03/old-blogger-posts-imported/">Old Blogger Posts Imported</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-03T12:23:48+01:00" pubdate data-updated="true">Sep 3<span>rd</span>, 2010</time>
        
         | <a href="/blog/2010/09/03/old-blogger-posts-imported/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I decided to move all my posts from my old and slightly defunct Blogger account over to this here WordPress. It will fill in a bit of back story on the NDS sequencer and some of my other past projects.</p>

<p>I’ll be going through the posts gradually and re-tagging them to make it a bit easier to search through.</p>

<p>Edit: I’m also going to need to fix the code examples on some of the old posts, will try to do it over the weekend.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/02/a-nintendo-ds-drum-machine/">A Nintendo DS Drum Machine</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-02T21:25:09+01:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2010</time>
        
         | <a href="/blog/2010/09/02/a-nintendo-ds-drum-machine/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So this isn’t a SuperCollider post, as may be obvious from the title, but I don’t think I’m going to let this be a solely SC based blog when there’s plenty of other noisy stuff I do. About 18 months ago I started playing with writing homebrew software for my Nintendo DS. It was a good chance to improve my coding chops and try and learn a bit about the hows and whys of DSP. In the first instance I succeeded, my C/C++ improved pretty dramatically and it very much helped turn me from a hardware based Electronic Engineer into someone much more comfortable and happy with writing code.</p>

<p>Unfortunately things mostly stalled on the second front after I got my Midi sequencer working and then found other things to pursue. However, I’m now revisiting the whole affair and having a reasonable amount of success.</p>

<p>Part of the reason for making a MIDI sequencer was because I had no idea how to use the built in NDS audio libraries, nor how to read WAV files, nor really at that point much idea about how digital audio worked in anything other than a round about way. So offloading the sound generating bits onto Akai, Novation and Waldorf whilst I just got the DS to spit out the notes in the right order seemed a much better idea. I ended up with a fairly versatile and quite fun touch screen sequencer with multiple tracks, multiple patterns per track, the ability to sequence these patterns and also being able to draw Midi CC curves. The final product got a gig at a night a friend of mine put on, where I ended up playing for four hours due to the inability of some other DJs to show up. Thankfully I found that other people were so interested I could simply ask them to watch my stuff in return for letting them play with the DS.</p>

<p>This is the point where the whole thing collapsed because I wanted a bigger screen for more buttons. I built a version for my<a href="http://www.alwaysinnovating.com/touchbook/"> Always Innovating Touchbook</a>, that was written as a Python GUI controlling a Pure Data sequencer patch over OSC. It also worked rather well but lost some of the magic present in the original and so the whole thing gradually died out. At some point in this time I did learn how to read WAV files in C++ and made a small loader but the momentum was gone and not coming back.</p>

<p>Fast forward approximately a year and I found myself wanting a simple drum machine sampler again. Given my considerably improved coding skills I decided now was the time to finish what I had originally started!! I pulled the Midi parts out of the sequencer to give me a bit less clutter, shoe horned in the wave loader code and then got to work wrangling with <a href="http://maxmod.org/">MaxMod</a>, the homebrewed NDS sound library (which I now find out is a bit of a masterpiece of coding, I feel I should also give props to the whole <a href="http://devkitpro.org/">devkitPro</a> team for making the toolchains and NDS libraries to do all this). Last Saturday was going to be something of an all nighter in which I hoped to get a proof of concept working and actually have some drum sounds coming out of the little white hand-held.</p>

<p>I had it working by about 10:30 pm…… which is awesome as it’s now working, but it didn’t make for much of a marathon. I implemented a basic voice assignment and stealing system and tested the whole thing by leaving it running for half an hour to see if it was stable. It carried on churning out its little distorted drum sounds merrily and I knew I was onto a winner.</p>

<p>There are a few more steps that need to be finished before the whole thing is ready and part of the reason for writing this post is to list them to help get me to do them.</p>

<ul>
  <li>
    <p>Memory management for tracks. Currently there are no limits, which isn’t a good idea.</p>
  </li>
  <li>
    <p>Correct reloading of sound files. Tied to memory management really.</p>
  </li>
  <li>
    <p>Make it reject Stereo samples. It will only play mono samples and playing stereo samples just makes it sound bad.</p>
  </li>
  <li>
    <p>Make changing panning and volume of samples available. I might just have hard left and hard right here to make a 2 channel, mono sampler.</p>
  </li>
  <li>
    <p>Saving a tracks samples as a soundbank that can be reloaded easily.</p>
  </li>
  <li>
    <p>Saving a tracks samples and patterns as a song.</p>
  </li>
  <li>
    <p>Add the Midi sequencer code back in.</p>
  </li>
</ul>

<p>The code for the original sequencer is up on my GitHub and once this bit is done it will be there as well. I should probably have done the proper thing and made a branch for this version but I didn’t think about it when I did it. Will sort it out soon.</p>

<p>Note: In the time between me writing the first draft of this post and me actually posting it I’ve crossed the first three items off the list. Turns out they were simpler to implement than I thought. Onwards!!!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/08/19/control-busses-and-their-uses/">Control Busses and Their Uses</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-19T20:43:14+01:00" pubdate data-updated="true">Aug 19<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/08/19/control-busses-and-their-uses/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I’m finally writing this up! The code has been sitting around for about a week now and other stuff has just kept getting in the way. But here it is, finally.</p>

<p>So the first thing I should point out is my new found liking for the SuperCollider documentation. Whilst the parts that fly about on the internet are a bit hassle-some to sift through and can make it difficult to find the answer to the questions you want, the help functionality and documentation within the actual program is really great and very nicely laid out. Many of my questions are now being answered there. And don’t I feel like a muppet for doubting it to begin with.</p>

<p>Anyway, onto the code.</p>

<p>Nothing especially complex, a couple of synth defs and then modifying some parameters.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
</pre></td><td class="code"><pre><code class=""><span class="line">(
</span><span class="line">SynthDef('test-Mod',{
</span><span class="line">
</span><span class="line">arg freq1, amp1, modBus;
</span><span class="line">
</span><span class="line">var output;
</span><span class="line">
</span><span class="line">output = {SinOsc.ar(freq1 + In.ar(modBus)) * amp1};
</span><span class="line">
</span><span class="line">Out.ar(0,
</span><span class="line">    Pan2.ar(output, 0)
</span><span class="line">)
</span><span class="line">
</span><span class="line">}).store;
</span><span class="line">
</span><span class="line">SynthDef('Simple-LFO',{
</span><span class="line">
</span><span class="line">arg freq1, amp1, outBus;
</span><span class="line">
</span><span class="line">var output;
</span><span class="line">
</span><span class="line">output = {SinOsc.ar(freq1) * amp1};
</span><span class="line">
</span><span class="line">Out.ar(outBus,
</span><span class="line">    output
</span><span class="line">)
</span><span class="line">
</span><span class="line">}).store;
</span><span class="line">)
</span><span class="line">
</span><span class="line">c = Synth('test-Mod',['freq1', 500, 'amp1', 0.5, 'modBus', 3]);
</span><span class="line">
</span><span class="line">b = Synth('Simple-LFO',['freq1', 200, 'amp1', 100, 'outBus', 3]);
</span><span class="line">
</span><span class="line">b.set('amp1', 0);
</span><span class="line">b.set('amp1', 30);
</span><span class="line">b.set('freq1', 1257, 'amp1', 1000);
</span><span class="line">b.set('amp1',500);
</span><span class="line">b.set('freq1',100);
</span><span class="line">
</span><span class="line">b.free;
</span><span class="line">c.free;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The obvious thing to notice is that we’re using In.ar(modBus) in the frequency definition of the first synth’s SinOsc. This means that the signal coming in through that audio rate bus gets added to the value of the freq1 variable and then the SinOsc spits out what it’s told. The second synth is just a simple SinOsc but the bus that its audio is coming out from can be set when we create it. I’m sure the trick here is pretty obvious, when we create the synths we tell the test-Mod that its input modBus is audio bus 3 and we tell the Simple-LFO synth that its output bus is number 3 as well. The output from Simple-LFO will then modulate the frequency of test-Mod.  Quick note, bus 3 was chosen at random, it just needs to be greater than 1, or whatever the last audio output on your system is.</p>

<p>When test-Mod is initially created we get a sine wave at 500Hz, but as soon as Simple-LFO is created we can hear it being modulated and a more dissonant sound is there. The commands after that will either set different amplitudes for the lfo creating differing amounts of modulation or change the lfo frequency resulting in different timbres.</p>

<p>This is a pretty simple way of doing things, it should be noted that there is actually some important stuff I’m missing out, namely the ordering of nodes on the server, but for the moment we won’t worry about it. (Also I don’t yet understand it, that’s probably tackled next.)</p>

<p>Right, next step up. Clearly we can define what buses we want to use manually, but if we’re doing it allot then it could become messy to keep track of, thankfully SuperCollider has useful functionality for automating this.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
</pre></td><td class="code"><pre><code class=""><span class="line">(
</span><span class="line">SynthDef('test-Mod',{
</span><span class="line">
</span><span class="line">    arg freq1, amp1, modBus;
</span><span class="line">
</span><span class="line">    var output;
</span><span class="line">
</span><span class="line">    output = {SinOsc.ar(freq1 + In.ar(modBus)) * amp1};
</span><span class="line">
</span><span class="line">    Out.ar(0,
</span><span class="line">    Pan2.ar(output, 0)
</span><span class="line">    )
</span><span class="line">
</span><span class="line">}).store;
</span><span class="line">
</span><span class="line">SynthDef('Simple-LFO',{
</span><span class="line">
</span><span class="line">    arg freq1, amp1, outBus;
</span><span class="line">
</span><span class="line">    var output;
</span><span class="line">
</span><span class="line">    output = {SinOsc.ar(freq1) * amp1};
</span><span class="line">
</span><span class="line">    Out.ar(outBus,
</span><span class="line">    output
</span><span class="line">    )
</span><span class="line">
</span><span class="line">}).store;
</span><span class="line">)
</span><span class="line">
</span><span class="line">d = Bus.audio(s, 1);
</span><span class="line">
</span><span class="line">c = Synth('test-Mod',['freq1', 500, 'amp1', 0.5, 'modBus', d]);
</span><span class="line">
</span><span class="line">b = Synth('Simple-LFO',['freq1', 200, 'amp1', 100, 'outBus', d]);
</span><span class="line">
</span><span class="line">b.set('amp1', 0);
</span><span class="line">b.set('amp1', 30);
</span><span class="line">b.set('freq1', 1257, 'amp1', 1000);
</span><span class="line">b.set('amp1',500);
</span><span class="line">b.set('freq1',100);
</span><span class="line">
</span><span class="line">b.free;
</span><span class="line">c.free;
</span><span class="line">d.free;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This time very little has really changed, just the addition of variable d and the Bus.audio method. All that happens here is a one channel audio bus is created on the default server. This then gets passed to the synth constructors instead of us stating we’re using audio bus 3. SuperCollider will keep track of what buses are in use and which have been freed up and assign what it needs to. We just have to make sure we don’t hit the limit of how many buses we’re allowed. Simple eh?</p>

<p>The commands are all the same as are the sounds, we just have one less thing to worry about.</p>

<p>The final example will show both, how to assign control buses to synth parameters without having to pass them as arguments, as well as where the limits of control rate buses lie.</p>

<p>This time the code has all changed a little bit.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
</pre></td><td class="code"><pre><code class=""><span class="line">(
</span><span class="line">SynthDef('test-Mod',{
</span><span class="line">
</span><span class="line">    arg freq1, amp1;
</span><span class="line">
</span><span class="line">    var output;
</span><span class="line">
</span><span class="line">    output = {SinOsc.ar(freq1) * amp1};
</span><span class="line">
</span><span class="line">    Out.ar(0,
</span><span class="line">    Pan2.ar(output, 0)
</span><span class="line">    )
</span><span class="line">
</span><span class="line">}).store;
</span><span class="line">
</span><span class="line">SynthDef('Simple-LFO',{
</span><span class="line">
</span><span class="line">    arg freq1, amp1, outBus;
</span><span class="line">
</span><span class="line">    var output;
</span><span class="line">
</span><span class="line">    output = {SinOsc.ar(freq1) * amp1};
</span><span class="line">
</span><span class="line">    Out.kr(outBus,
</span><span class="line">    output
</span><span class="line">    )
</span><span class="line">
</span><span class="line">}).store;
</span><span class="line">)
</span><span class="line">
</span><span class="line">d = Bus.control(s, 1);
</span><span class="line">d.set(700);
</span><span class="line">
</span><span class="line">c = Synth('test-Mod',['freq1', 500, 'amp1', 0.5]);
</span><span class="line">
</span><span class="line">c.map('freq1', d);
</span><span class="line">d.set(600);
</span><span class="line">d.set(300);
</span><span class="line">
</span><span class="line">b = Synth('Simple-LFO',['freq1', 200, 'amp1', 100, 'outBus', d]);
</span><span class="line">
</span><span class="line">b.set('freq1', 1257, 'amp1', 1000);
</span><span class="line">
</span><span class="line">b.free;
</span><span class="line">c.free;
</span><span class="line">d.free;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The first major thing is that the test-Mod synth def now no longer has an argument for the mod-bus. The reason for this is because we can use the map method of a synth object. In this case we map bus d to the freq1 argument of the test-mod synth. Once we’ve done this we can use the set method of the bus to change the synth’s frequency.</p>

<p>If we carry on and create the Simple-LFO synth and tell that to send its output down bus d then we get the FM synthesis again……</p>

<p>But it’s not quite the same this time….</p>

<p>The signal is distorted and doesn’t sound like the clean FM tones we have gotten in the previous examples. That’s because if you look, the bus is actually a control rate bus and not an audio rate. This means that because of the way that control rate signals are calculated within SuperCollider, we are going to get aliasing distortion. Control rate signals are evaluated once per signal block, the default of which is every 64 samples, so we now no longer get the smooth FM synthesis. To map a bus to a synth control the bus needs to be at control rate, (Or at least that’s how it appears to me, I’m still learning this) so for slow moving stuff its fine, but for any high frequency changes, unless you want distortion, it’s not what you;re after.</p>

<p>Anyway, hopefully that’s all been useful, I’m going to start digging into node ordering and stuff in the next few days so the next blog post will likely be about that, once that’s done I’ve decided that I know enough to start going after that granular synth patch I want.</p>

<p>Hooray!!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/08/09/internet-on-thursday/">Internet on Thursday</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-09T14:25:57+01:00" pubdate data-updated="true">Aug 9<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/08/09/internet-on-thursday/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So the initial estimates were wrong and apparently my Internet will be returned to me on Thursday. Until then all I have is access at work and that’s not quite sufficient.</p>

<p>As soon as Thursday evening rolls around , however, the post on control buses should go live. I’ve learnt quite a bit about them, mostly thanks to reading the very good docs (My opinion of the SC docs is changing quite substantially now) so there should be plenty to look forward to.</p>

<p>Guy</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/13/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/11/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/09/11/cuttr-is-now-live-and-running/">Cuttr is now live and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/30/programming-is-good-for-the-soul/">Programming is good for the soul</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/08/organising-domains-and-migrating-sites/">Organising Domains and migrating sites</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/30/glitchr-up-and-running/">Glitchr up and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/24/octopress-customisation/">Octopress Customisation</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/rumblesan">@rumblesan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rumblesan',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rumblesan", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/rumblesan" class="twitter-follow-button" data-show-count="false">Follow @rumblesan</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - guy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rumblesan';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
