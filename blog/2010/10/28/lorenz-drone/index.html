
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Lorenz Drone - RumbleSan Heavy Noise Industries</title>
  <meta name="author" content="guy">

  
  <meta name="description" content="Chatting with a friend the other day, he mentioned that he was currently bored at work waiting to be allowed access to the code he was supposed to be &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rumblesan.com/blog/2010/10/28/lorenz-drone/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="RumbleSan Heavy Noise Industries" type="application/atom+xml">
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-19842221-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">RumbleSan Heavy Noise Industries</a></h1>
  
    <h2>Noise with weight</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rumblesan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="http://patchwerk.rumblesan.com">PatchWerk</a></li>
  <li><a href="http://rumblesan.tumblr.com">Glitchr</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Lorenz Drone</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-10-28T21:37:21+01:00" pubdate data-updated="true">Oct 28<span>th</span>, 2010</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Chatting with a friend the other day, he mentioned that he was currently bored at work waiting to be allowed access to the code he was supposed to be working on. I told him that he should design me an interesting system I could turn into a patch to make generative audio, since I knew that whilst at university he spent some time studying chaos theory and I figured he would know some interesting stuff. He pointed me towards the Lorenz Attractor as an interesting chaotic system that’s very easy to implement in code. I’ve seen pictures of the 3 dimensional plot of the Lorenz equations and they do look pretty cool but I’d never thought to actually do anything with them.</p>

<p><img src="http://en.wikipedia.org/wiki/Lorenz_equations" alt="3D Lorenz Plot" /></p>

<p>Of course, now I have this blog that I’m trying to keep updated with interesting, algorithmic noise stuff so it seemed like a pretty good chance to spend some time exploring what I could do with the equations.</p>

<p>The quick idea I had at work was to have multiple sets of the Lorenz equations with slightly different starting positions so that their chaotic nature and tendency for paths to drift greatly over time could be used. I also chose to have these control some FM synthesis, because even small changes to the modulation parameters and frequencies can have very noticeable effects on the sounds produced. The final thought was that having a filter present would help to give some more movement to the sounds and that if I was having to iterate through the values with a clock then that itself could be controlled for some interesting effects.</p>

<p>The equations themselves are:-</p>

<ul>
  <li>
    <p>$ dx/dt = sigma (y-x) $</p>
  </li>
  <li>
    <p>$ dy/dt = x(rho z) y $</p>
  </li>
  <li>
    <p>$ dz/dt = xy beta z $</p>
  </li>
</ul>

<p>where the usual values are sigma = 10, rho = 28 and beta = 8/3 if you want to get the chaotic behavior, which we obviously do.</p>

<p>I decided to implement the whole thing in Pure Data because it’s the language that I’m most comfortable with but I want to make the same patch again in SuperCollider to help contrast working with the two languages and as a learning exercise. Hopefully I’ll have that up soon enough. First I had to create the Lorenz Equations in a patch. I’m trying to just stick to vanilla objects for both portability and learning reasons here so while the expr object available in PD-Extended would have made the resulting abstraction much neater to look at, I’ve pulled it apart into all the multiplies, adds and subtracts. Here is the abstraction with the equations.</p>

<p><img src="/a/2010-10-28-lorenz-drone/LorenzEquationsAbs.png" alt="Lorenz Equations Abstraction" /></p>

<p>It’s important to note that these equations calculate the change in position with respect to time, which means we have to pick a time period to use and we then have to add the calculated value onto the original value. It took me a little while to realise that I’d need to calculate the values in small increments because of this. My calculus skills have faded quite a bit in the last few years it seems. For this reason, once we have the values from the equations we have to multiply it by a small value (I chose 0.01 in the example patch) then add on the previous value. The abstraction I created does all of this and the creation arguments make it simple to use and tweak as needed.</p>

<p>This is the main bulk of the patch, other than this the only other abstraction is a patch for doing some basic FM synthesis. It’s based on the simpleFM patch from the MaxMSP tutorials with three inputs, one for the carrier frequency, one that’s the harmonicity value and one for the modulation amount. There are three Lorenz abstractions, two of which control the FM synths and a third that controls the resonance and frequency of a low pass filter, as well as having control over the speed of the metro that keeps the patch going.</p>

<p><img src="/a/2010-10-28-lorenz-drone/LorenzDroneMain.png" alt="Lorenz Drone" /></p>

<p>I was hoping that this would help to add some movement to the sound and it exceeded my expectations massively. Listening to it the sound veers between harsh and smooth and the filter and speed variance means that it can crescendo and diminish with little warning. It’s very rough around the edges but for a first attempt I’m very pleased. I fully expect that there will be improvements but for the moment I’ll leave it.</p>

<p>The audio from it can be heard here</p>

<p>[soundcloud]<a href="http://soundcloud.com/tasteforreality/lorenzdrone">http://soundcloud.com/tasteforreality/lorenzdrone</a>[/soundcloud]</p>

<p>if the sound cloud player is working for you, otherwise grab it here, <a href="http://www.rumblesan.com/wp-content/uploads/2010/10/LorenzDrone.mp3">Lorenz Drone Audio</a></p>

<p>and the patch is available here for those that want it. <a href="/a/2010-10-28-lorenz-drone/LorenzDrone.zip">Lorenz Drone Patch</a></p>

<p>Guy</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">guy</span></span>

      








  


<time datetime="2010-10-28T21:37:21+01:00" pubdate data-updated="true">Oct 28<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/music/'>Music</a>, <a class='category' href='/blog/categories/pure-data/'>Pure Data</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2010/10/15/drum-sounds-in-supercollider-part-2/" title="Previous Post: Drum Sounds in SuperCollider (part 2)">&laquo; Drum Sounds in SuperCollider (part 2)</a>
      
      
        <a class="basic-alignment right" href="/blog/2010/11/01/patch-a-day-month-day-1-fm-bells/" title="Next Post: Pure Data Patch-a-day Month Day 1: FM Bells">Pure Data Patch-a-day Month Day 1: FM Bells &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/09/11/cuttr-is-now-live-and-running/">Cuttr is now live and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/30/programming-is-good-for-the-soul/">Programming is good for the soul</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/08/organising-domains-and-migrating-sites/">Organising Domains and migrating sites</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/30/glitchr-up-and-running/">Glitchr up and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/24/octopress-customisation/">Octopress Customisation</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/rumblesan">@rumblesan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rumblesan',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rumblesan", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/rumblesan" class="twitter-follow-button" data-show-count="false">Follow @rumblesan</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - guy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rumblesan';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rumblesan.com/blog/2010/10/28/lorenz-drone/';
        var disqus_url = 'http://rumblesan.com/blog/2010/10/28/lorenz-drone/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
