
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Patch-a-Day November 2011 Day 14: Data Structure Basics (part 1) - RumbleSan Heavy Noise Industries</title>
  <meta name="author" content="guy">

  
  <meta name="description" content="Starting at the beginning with data structures. There’s a lot to take in, but it’s pretty cool once you get down to it. I found the old patches I &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rumblesan.com/blog/2011/11/16/patch-a-day-november-2011-day-14-data-structure-basics-part-1/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="RumbleSan Heavy Noise Industries" type="application/atom+xml">
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-19842221-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">RumbleSan Heavy Noise Industries</a></h1>
  
    <h2>Noise with weight</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rumblesan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="http://patchwerk.rumblesan.com">PatchWerk</a></li>
  <li><a href="http://rumblesan.tumblr.com">Glitchr</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Patch-a-Day November 2011 Day 14: Data Structure Basics (Part 1)</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-16T23:15:54+00:00" pubdate data-updated="true">Nov 16<span>th</span>, 2011</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Starting at the beginning with data structures. There’s a lot to take in, but it’s pretty cool once you get down to it. I found the old patches I wrote when I was getting to grips with it all the first time round which is pretty helpful but this time I’ll actually write things down heh.</p>

<p>First up, you can think of Data Structures in PD as lists of items, where each list has a specific name, and the items they contain can be floats, symbols, arrays, or a list of other data structures. To navigate around these lists you use pointers, which literally just point to a position on the list.</p>

<p>When creating a patch that uses data structures, there are three parts that really make the structure. These are a template, a struct and a datawindow. The template is a subpatch that contains a struct. The struct defines what data the structure contains and the datawindow will contain the data.</p>

<p>The data is stored as an ordered list of scalars, where a scalar would contain an entry for each of the values defined in the struct. The lists are navigated by using pointers, one of the PD data types, that literally just point to a single scalar in the list.</p>

<p>Lets have a look at a patch to try and clear some of this up.</p>

<p><img src="/a/2011-11-16-patch-a-day-november-2011-day-14-data-structure-basics-part-1/basic-structure1.png" alt="Basic data structure" /></p>

<p>In the top left are the three objects that make up the data structure. The template1 subpatch contains a single struct object. The struct defines a structure called struct1 with a single field, the float a. The datawindow1 subpatch has no objects in it. One thing to note at this point, the name of the struct has to be unique throughout PD otherwise you’ll get an error being thrown, the same goes for the datawindow.</p>

<p>Now that the data object has been constructed, we need to add some data to it and we can do this using the append object. This takes a pointer into its rightmost inlet and then the values to store are entered using the other inlet. Append is given the name of the struct that it will be modifying and also an argument for each value in the struct we want to modify. If you have a struct with multiple values then you don’t need to modify all of them.</p>

<p>The pointer object gets given a message to tell it which datawindow it’s pointing to and then a bang to get it to output the value of its current pointer. When we first initialise it with a traverse message the pointer will point to the head of the list. This isn’t actually a scalar but is the position in front of the first scalar element so any value appended to it will get added after this. The pointer goes to the append object to tell it where it will be appending the values.</p>

<p>Sending the pointer a next message will get it to move to the next scalar in the list, to begin with that will result in an error because there aren’t any other values, but if there were it would mean we could append after any position in the list.</p>

<p>The append object will increment the pointer it has itself, so all that’s needed is to send it the pointer then send whatever values we want to store in the left inlet.</p>

<p>To retrieve them you can use the get object. This works in a similar way to append with the arguments tell it what struct and what values it’s dealing with and the pointer telling it which scalar to retrieve. This time it’s necessary to step through manually and you can do that with next.</p>

<p>Here’s an example of how easy it is to extend this to more float values if you want.</p>

<p><img src="/a/2011-11-16-patch-a-day-november-2011-day-14-data-structure-basics-part-1/multiple-values.png" alt="Data structure with multiple values" /></p>

<p>Not sure I’ll be able to get another post out tonight unfortunately, relearning this stuff has been a bit of a crash course and took longer than I expected. Either way, I know the direction I’ll be heading with this over the next few days so I shouldn’t have any problems working out what I want to patch.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">guy</span></span>

      








  


<time datetime="2011-11-16T23:15:54+00:00" pubdate data-updated="true">Nov 16<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/patch-a-day/'>Patch-A-Day</a>, <a class='category' href='/blog/categories/pure-data/'>Pure Data</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/11/15/patch-a-day-november-2011-day-13-euclidean-drums/" title="Previous Post: Patch-a-Day November 2011 Day 13: Euclidean Drums">&laquo; Patch-a-Day November 2011 Day 13: Euclidean Drums</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/11/17/patchwerk-radio-back-on-the-air/" title="Next Post: PatchWerk Radio back on the air">PatchWerk Radio back on the air &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/09/11/cuttr-is-now-live-and-running/">Cuttr is now live and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/30/programming-is-good-for-the-soul/">Programming is good for the soul</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/08/organising-domains-and-migrating-sites/">Organising Domains and migrating sites</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/30/glitchr-up-and-running/">Glitchr up and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/24/octopress-customisation/">Octopress Customisation</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/rumblesan">@rumblesan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rumblesan',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rumblesan", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/rumblesan" class="twitter-follow-button" data-show-count="false">Follow @rumblesan</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - guy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rumblesan';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rumblesan.com/blog/2011/11/16/patch-a-day-november-2011-day-14-data-structure-basics-part-1/';
        var disqus_url = 'http://rumblesan.com/blog/2011/11/16/patch-a-day-november-2011-day-14-data-structure-basics-part-1/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
