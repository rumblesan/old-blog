
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Patch-a-Day November 2011 Day 6: List Processing (part 3) - RumbleSan Heavy Noise Industries</title>
  <meta name="author" content="guy">

  
  <meta name="description" content="More list processing today I’m afraid. I’m still working out how to properly transfer the Euclidean Rhythm equation to vanilla PD and I’m getting &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rumblesan.com/blog/2011/11/06/patch-a-day-november-2011-day-6-list-processing-part-3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="RumbleSan Heavy Noise Industries" type="application/atom+xml">
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-19842221-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">RumbleSan Heavy Noise Industries</a></h1>
  
    <h2>Noise with weight</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rumblesan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="http://patchwerk.rumblesan.com">PatchWerk</a></li>
  <li><a href="http://rumblesan.tumblr.com">Glitchr</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Patch-a-Day November 2011 Day 6: List Processing (Part 3)</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-06T23:16:26+00:00" pubdate data-updated="true">Nov 6<span>th</span>, 2011</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>More list processing today I’m afraid. I’m still working out how to properly transfer the Euclidean Rhythm equation to vanilla PD and I’m getting closer, but I keep finding there’s different problems to do with list parsing to overcome, which is great as far as me having things to write about goes, but I’d quite like to get to the point where I can make some music soon.</p>

<p>Tonight’s post is a bit of a short one because I’m knackered after the weekend. The problem is that the we need to find out what the remainder of two lists will be when they’re interleaved. The interleaving patches created last night will deal with this gracefully, but when generating the rhythm patterns we don’t actually want this to happen. We need to pull the remainder off and then re-interleave this with the output.</p>

<p>To further complicate matters, the remainder is dependant on the size of the elements we are dealing with so our patch needs to take this into account. Lets start off with the simplest case first.</p>

<p><img src="/a/2011-11-06-patch-a-day-november-2011-day-6-list-processing-part-3/list-length-matching.png" alt="List length matching" /></p>

<p>The list length objects calculate the lengths for each list, the min object is used to find which of these is the smallest and then both lists are split by this value. On the list with the smallest length the middle outlet of the split object will send a bang, on the longer list we get the excess elements.</p>

<p>It’s still necessary to make this deal with lists where we have different element sizes and at the moment if the two lists are the same length then there won’t be anything output for the excess. Both of these need fixing and the following abstraction does just that.</p>

<p><img src="/a/2011-11-06-patch-a-day-november-2011-day-6-list-processing-part-3/list-length-matching-with-elements.png" alt="List length matching with elements" /></p>

<p>As soon as you start dealing with multi item elements, things get a bit trickier. It’s times like this I wish that PD had better data structures for doing this sort of thing. This works in much the same was as the first version, but I’ve split everything out to make it a bit neater.</p>

<p>Top left is all the input parsing and making sure the data gets sent through in the right order to stop there being timing issues.</p>

<p>The two sections on the right are where the number of elements in a list and the split values are calculated. This deals with lists that have incomplete elements, i.e. the list <strong>1 2 3 4 5</strong> with an element size of two should be three elements, <strong>(1 2), (3 4), (5)</strong>.</p>

<p>The number of elements in each list is calculated, these values are compared and the smallest chosen, this is then converted from an element number back into an item number for each list and then they’re split.</p>

<p>The bottom left just makes sure the output comes out correctly, with a bit of logic to deal with even lists and the possibility of two bangs from the list splits for excess values.</p>

<p>Come back tomorrow where I might actually be making some patterns… if I can wrestle the maths into place.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">guy</span></span>

      








  


<time datetime="2011-11-06T23:16:26+00:00" pubdate data-updated="true">Nov 6<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/patch-a-day/'>Patch-A-Day</a>, <a class='category' href='/blog/categories/pure-data/'>Pure Data</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/11/06/patchwerk-radio-site-back-up-an-running/" title="Previous Post: PatchWerk Radio site back up an running">&laquo; PatchWerk Radio site back up an running</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/11/07/patch-a-day-november-2011-day-7-list-processing-part-4/" title="Next Post: Patch-a-Day November 2011 Day 7: List Processing (part 4)">Patch-a-Day November 2011 Day 7: List Processing (part 4) &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/09/11/cuttr-is-now-live-and-running/">Cuttr is now live and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/30/programming-is-good-for-the-soul/">Programming is good for the soul</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/08/organising-domains-and-migrating-sites/">Organising Domains and migrating sites</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/30/glitchr-up-and-running/">Glitchr up and running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/24/octopress-customisation/">Octopress Customisation</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/rumblesan">@rumblesan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rumblesan',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rumblesan", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/rumblesan" class="twitter-follow-button" data-show-count="false">Follow @rumblesan</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - guy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rumblesan';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rumblesan.com/blog/2011/11/06/patch-a-day-november-2011-day-6-list-processing-part-3/';
        var disqus_url = 'http://rumblesan.com/blog/2011/11/06/patch-a-day-november-2011-day-6-list-processing-part-3/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
